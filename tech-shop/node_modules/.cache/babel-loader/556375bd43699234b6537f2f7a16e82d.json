{"ast":null,"code":"const filterReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOAD_FILTER_PRODUCTS\":\n      let priceArr = action.payload.map(curElem => curElem.price);\n      console.log(\"ðŸš€ ~ file: filterReducer.js ~ line 5 ~ filterReducer ~ priceArr\", priceArr); // 1way\n      // console.log(Math.max.apply(null, priceArr));\n      // let maxPrice = priceArr.reduce(\n      //   (initialVal, curVal) => Math.max(initialVal, curVal),\n      //   0\n      // );\n      // console.log(\n      //   \"ðŸš€ ~ file: filterReducer.js ~ line 16 ~ filterReducer ~ maxPrice\",\n      //   maxPrice\n      // );\n\n      let maxPrice = Math.max(...priceArr);\n      console.log(\"ðŸš€ ~ file: filterReducer.js ~ line 23 ~ filterReducer ~ maxPrice\", maxPrice);\n      return { ...state,\n        filter_products: [...action.payload],\n        all_products: [...action.payload],\n        filters: { ...state.filters,\n          maxPrice,\n          price: maxPrice\n        }\n      };\n\n    case \"SET_GRID_VIEW\":\n      return { ...state,\n        grid_view: true\n      };\n\n    case \"SET_LIST_VIEW\":\n      return { ...state,\n        grid_view: false\n      };\n\n    case \"GET_SORT_VALUE\":\n      // let userSortValue = document.getElementById(\"sort\");\n      // let sort_value = userSortValue.options[userSortValue.selectedIndex].value;\n      return { ...state,\n        sorting_value: action.payload\n      };\n\n    case \"SORTING_PRODUCTS\":\n      let newSortData; // let tempSortProduct = [...action.payload];\n\n      const {\n        filter_products,\n        sorting_value\n      } = state;\n      let tempSortProduct = [...filter_products];\n\n      const sortingProducts = (a, b) => {\n        if (sorting_value === \"lowest\") {\n          return a.price - b.price;\n        }\n\n        if (sorting_value === \"highest\") {\n          return b.price - a.price;\n        }\n\n        if (sorting_value === \"a-z\") {\n          return a.name.localeCompare(b.name);\n        }\n\n        if (sorting_value === \"z-a\") {\n          return b.name.localeCompare(a.name);\n        }\n      };\n\n      newSortData = tempSortProduct.sort(sortingProducts);\n      return { ...state,\n        filter_products: newSortData\n      };\n\n    case \"UPDATE_FILTERS_VALUE\":\n      const {\n        name,\n        value\n      } = action.payload;\n      return { ...state,\n        filters: { ...state.filters,\n          [name]: value\n        }\n      };\n\n    case \"FILTER_PRODUCTS\":\n      let {\n        all_products\n      } = state;\n      let tempFilterProduct = [...all_products];\n      const {\n        text,\n        category,\n        company,\n        color,\n        price\n      } = state.filters;\n\n      if (text) {\n        tempFilterProduct = tempFilterProduct.filter(curElem => {\n          return curElem.name.toLowerCase().includes(text);\n        });\n      }\n\n      if (category !== \"all\") {\n        tempFilterProduct = tempFilterProduct.filter(curElem => curElem.category === category);\n      }\n\n      if (company !== \"all\") {\n        tempFilterProduct = tempFilterProduct.filter(curElem => curElem.company.toLowerCase() === company.toLowerCase());\n      }\n\n      if (color !== \"all\") {\n        tempFilterProduct = tempFilterProduct.filter(curElem => curElem.colors.includes(color));\n      }\n\n      if (price === 0) {\n        tempFilterProduct = tempFilterProduct.filter(curElem => curElem.price == price);\n      } else {\n        tempFilterProduct = tempFilterProduct.filter(curElem => curElem.price <= price);\n      }\n\n      return { ...state,\n        filter_products: tempFilterProduct\n      };\n\n    case \"CLEAR_FILTERS\":\n      return { ...state,\n        filters: { ...state.filters,\n          text: \"\",\n          category: \"all\",\n          company: \"all\",\n          color: \"all\",\n          maxPrice: 0,\n          price: state.filters.maxPrice,\n          minPrice: state.filters.maxPrice\n        }\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default filterReducer;","map":{"version":3,"names":["filterReducer","state","action","type","priceArr","payload","map","curElem","price","console","log","maxPrice","Math","max","filter_products","all_products","filters","grid_view","sorting_value","newSortData","tempSortProduct","sortingProducts","a","b","name","localeCompare","sort","value","tempFilterProduct","text","category","company","color","filter","toLowerCase","includes","colors","minPrice"],"sources":["C:/Users/User/Downloads/totalitycorp-frontend-challenge-main/totalitycorp-frontend-challenge-main/src/reducer/filterReducer.js"],"sourcesContent":["const filterReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOAD_FILTER_PRODUCTS\":\r\n      let priceArr = action.payload.map((curElem) => curElem.price);\r\n      console.log(\r\n        \"ðŸš€ ~ file: filterReducer.js ~ line 5 ~ filterReducer ~ priceArr\",\r\n        priceArr\r\n      );\r\n\r\n      // 1way\r\n      // console.log(Math.max.apply(null, priceArr));\r\n\r\n      // let maxPrice = priceArr.reduce(\r\n      //   (initialVal, curVal) => Math.max(initialVal, curVal),\r\n      //   0\r\n      // );\r\n      // console.log(\r\n      //   \"ðŸš€ ~ file: filterReducer.js ~ line 16 ~ filterReducer ~ maxPrice\",\r\n      //   maxPrice\r\n      // );\r\n\r\n      let maxPrice = Math.max(...priceArr);\r\n      console.log(\r\n        \"ðŸš€ ~ file: filterReducer.js ~ line 23 ~ filterReducer ~ maxPrice\",\r\n        maxPrice\r\n      );\r\n\r\n      return {\r\n        ...state,\r\n        filter_products: [...action.payload],\r\n        all_products: [...action.payload],\r\n        filters: { ...state.filters, maxPrice, price: maxPrice },\r\n      };\r\n\r\n    case \"SET_GRID_VIEW\":\r\n      return {\r\n        ...state,\r\n        grid_view: true,\r\n      };\r\n\r\n    case \"SET_LIST_VIEW\":\r\n      return {\r\n        ...state,\r\n        grid_view: false,\r\n      };\r\n\r\n    case \"GET_SORT_VALUE\":\r\n      // let userSortValue = document.getElementById(\"sort\");\r\n      // let sort_value = userSortValue.options[userSortValue.selectedIndex].value;\r\n      return {\r\n        ...state,\r\n        sorting_value: action.payload,\r\n      };\r\n\r\n    case \"SORTING_PRODUCTS\":\r\n      let newSortData;\r\n      // let tempSortProduct = [...action.payload];\r\n\r\n      const { filter_products, sorting_value } = state;\r\n      let tempSortProduct = [...filter_products];\r\n\r\n      const sortingProducts = (a, b) => {\r\n        if (sorting_value === \"lowest\") {\r\n          return a.price - b.price;\r\n        }\r\n\r\n        if (sorting_value === \"highest\") {\r\n          return b.price - a.price;\r\n        }\r\n\r\n        if (sorting_value === \"a-z\") {\r\n          return a.name.localeCompare(b.name);\r\n        }\r\n\r\n        if (sorting_value === \"z-a\") {\r\n          return b.name.localeCompare(a.name);\r\n        }\r\n      };\r\n\r\n      newSortData = tempSortProduct.sort(sortingProducts);\r\n\r\n      return {\r\n        ...state,\r\n        filter_products: newSortData,\r\n      };\r\n\r\n    case \"UPDATE_FILTERS_VALUE\":\r\n      const { name, value } = action.payload;\r\n\r\n      return {\r\n        ...state,\r\n        filters: {\r\n          ...state.filters,\r\n          [name]: value,\r\n        },\r\n      };\r\n\r\n    case \"FILTER_PRODUCTS\":\r\n      let { all_products } = state;\r\n      let tempFilterProduct = [...all_products];\r\n\r\n      const { text, category, company, color, price } = state.filters;\r\n\r\n      if (text) {\r\n        tempFilterProduct = tempFilterProduct.filter((curElem) => {\r\n          return curElem.name.toLowerCase().includes(text);\r\n        });\r\n      }\r\n\r\n      if (category !== \"all\") {\r\n        tempFilterProduct = tempFilterProduct.filter(\r\n          (curElem) => curElem.category === category\r\n        );\r\n      }\r\n\r\n      if (company !== \"all\") {\r\n        tempFilterProduct = tempFilterProduct.filter(\r\n          (curElem) => curElem.company.toLowerCase() === company.toLowerCase()\r\n        );\r\n      }\r\n\r\n      if (color !== \"all\") {\r\n        tempFilterProduct = tempFilterProduct.filter((curElem) =>\r\n          curElem.colors.includes(color)\r\n        );\r\n      }\r\n\r\n      if (price === 0) {\r\n        tempFilterProduct = tempFilterProduct.filter(\r\n          (curElem) => curElem.price == price\r\n        );\r\n      } else {\r\n        tempFilterProduct = tempFilterProduct.filter(\r\n          (curElem) => curElem.price <= price\r\n        );\r\n      }\r\n      return {\r\n        ...state,\r\n        filter_products: tempFilterProduct,\r\n      };\r\n\r\n    case \"CLEAR_FILTERS\":\r\n      return {\r\n        ...state,\r\n        filters: {\r\n          ...state.filters,\r\n          text: \"\",\r\n          category: \"all\",\r\n          company: \"all\",\r\n          color: \"all\",\r\n          maxPrice: 0,\r\n          price: state.filters.maxPrice,\r\n          minPrice: state.filters.maxPrice,\r\n        },\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default filterReducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}