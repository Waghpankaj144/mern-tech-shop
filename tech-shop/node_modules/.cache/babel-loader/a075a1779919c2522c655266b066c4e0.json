{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\mern-tech-shop\\\\tech-shop\\\\src\\\\context\\\\cart_context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useReducer, useEffect } from \"react\";\nimport reducer from \"../reducer/cartReducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\n\nconst getLocalCartData = () => {\n  let localCartData = localStorage.getItem(\"EcommerceCart\"); // if (localCartData === []) {\n  //   return [];\n  // } else {\n  //   return JSON.parse(localCartData);\n  // }\n\n  const parsedData = JSON.parse(localCartData);\n  if (!Array.isArray(parsedData)) return [];\n  return parsedData;\n};\n\nconst initialState = {\n  // cart: [],\n  cart: getLocalCartData(),\n  total_item: \"\",\n  total_price: \"\",\n  shipping_fee: 50000\n};\n\nconst CartProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const addToCart = (id, color, amount, product) => {\n    dispatch({\n      type: \"ADD_TO_CART\",\n      payload: {\n        id,\n        color,\n        amount,\n        product\n      }\n    });\n  }; // increment and decrement the product\n\n\n  const setDecrease = id => {\n    dispatch({\n      type: \"SET_DECREMENT\",\n      payload: id\n    });\n  };\n\n  const setIncrement = id => {\n    dispatch({\n      type: \"SET_INCREMENT\",\n      payload: id\n    });\n  }; // to remove the individual item from cart\n\n\n  const removeItem = id => {\n    dispatch({\n      type: \"REMOVE_ITEM\",\n      payload: id\n    });\n  }; // to clear the cart\n\n\n  const clearCart = () => {\n    dispatch({\n      type: \"CLEAR_CART\"\n    });\n  }; // to add the data in localStorage\n  // get vs set\n\n\n  useEffect(() => {\n    // dispatch({ type: \"CART_TOTAL_ITEM\" });\n    // dispatch({ type: \"CART_TOTAL_PRICE\" });\n    dispatch({\n      type: \"CART_ITEM_PRICE_TOTAL\"\n    });\n    localStorage.setItem(\"EcommerceCart\", JSON.stringify(state.cart));\n  }, [state.cart]);\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: { ...state,\n      addToCart,\n      removeItem,\n      clearCart,\n      setDecrease,\n      setIncrement\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CartProvider, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n\n_c = CartProvider;\n\nconst useCartContext = () => {\n  _s2();\n\n  return useContext(CartContext);\n};\n\n_s2(useCartContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport { CartProvider, useCartContext };\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["createContext","useContext","useReducer","useEffect","reducer","CartContext","getLocalCartData","localCartData","localStorage","getItem","parsedData","JSON","parse","Array","isArray","initialState","cart","total_item","total_price","shipping_fee","CartProvider","children","state","dispatch","addToCart","id","color","amount","product","type","payload","setDecrease","setIncrement","removeItem","clearCart","setItem","stringify","useCartContext"],"sources":["C:/Users/User/Downloads/mern-tech-shop/tech-shop/src/context/cart_context.js"],"sourcesContent":["import { createContext, useContext, useReducer, useEffect } from \"react\";\r\nimport reducer from \"../reducer/cartReducer\";\r\n\r\nconst CartContext = createContext();\r\n\r\nconst getLocalCartData = () => {\r\n  let localCartData = localStorage.getItem(\"EcommerceCart\");\r\n  // if (localCartData === []) {\r\n  //   return [];\r\n  // } else {\r\n  //   return JSON.parse(localCartData);\r\n  // }\r\n  const parsedData = JSON.parse(localCartData);\r\n  if(!Array.isArray(parsedData))\r\n  return[];\r\nreturn parsedData;\r\n};\r\n\r\n\r\n\r\nconst initialState = {\r\n  // cart: [],\r\n  cart: getLocalCartData(),\r\n  total_item: \"\",\r\n  total_price: \"\",\r\n  shipping_fee: 50000,\r\n};\r\n\r\nconst CartProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const addToCart = (id, color, amount, product) => {\r\n    dispatch({ type: \"ADD_TO_CART\", payload: { id, color, amount, product } });\r\n  };\r\n\r\n  // increment and decrement the product\r\n\r\n  const setDecrease = (id) => {\r\n    dispatch({ type: \"SET_DECREMENT\", payload: id });\r\n  };\r\n\r\n  const setIncrement = (id) => {\r\n    dispatch({ type: \"SET_INCREMENT\", payload: id });\r\n  };\r\n\r\n  // to remove the individual item from cart\r\n  const removeItem = (id) => {\r\n    dispatch({ type: \"REMOVE_ITEM\", payload: id });\r\n  };\r\n\r\n  // to clear the cart\r\n  const clearCart = () => {\r\n    dispatch({ type: \"CLEAR_CART\" });\r\n  };\r\n\r\n  // to add the data in localStorage\r\n  // get vs set\r\n\r\n  useEffect(() => {\r\n    // dispatch({ type: \"CART_TOTAL_ITEM\" });\r\n    // dispatch({ type: \"CART_TOTAL_PRICE\" });\r\n    dispatch({ type: \"CART_ITEM_PRICE_TOTAL\" });\r\n\r\n    localStorage.setItem(\"EcommerceCart\", JSON.stringify(state.cart));\r\n  }, [state.cart]);\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        ...state,\r\n        addToCart,\r\n        removeItem,\r\n        clearCart,\r\n        setDecrease,\r\n        setIncrement,\r\n      }}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nconst useCartContext = () => {\r\n  return useContext(CartContext);\r\n};\r\n\r\nexport { CartProvider, useCartContext };\r\n"],"mappings":";;;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,UAApC,EAAgDC,SAAhD,QAAiE,OAAjE;AACA,OAAOC,OAAP,MAAoB,wBAApB;;AAEA,MAAMC,WAAW,gBAAGL,aAAa,EAAjC;;AAEA,MAAMM,gBAAgB,GAAG,MAAM;EAC7B,IAAIC,aAAa,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAApB,CAD6B,CAE7B;EACA;EACA;EACA;EACA;;EACA,MAAMC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWL,aAAX,CAAnB;EACA,IAAG,CAACM,KAAK,CAACC,OAAN,CAAcJ,UAAd,CAAJ,EACA,OAAM,EAAN;EACF,OAAOA,UAAP;AACC,CAXD;;AAeA,MAAMK,YAAY,GAAG;EACnB;EACAC,IAAI,EAAEV,gBAAgB,EAFH;EAGnBW,UAAU,EAAE,EAHO;EAInBC,WAAW,EAAE,EAJM;EAKnBC,YAAY,EAAE;AALK,CAArB;;AAQA,MAAMC,YAAY,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EACrC,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBrB,UAAU,CAACE,OAAD,EAAUW,YAAV,CAApC;;EAEA,MAAMS,SAAS,GAAG,CAACC,EAAD,EAAKC,KAAL,EAAYC,MAAZ,EAAoBC,OAApB,KAAgC;IAChDL,QAAQ,CAAC;MAAEM,IAAI,EAAE,aAAR;MAAuBC,OAAO,EAAE;QAAEL,EAAF;QAAMC,KAAN;QAAaC,MAAb;QAAqBC;MAArB;IAAhC,CAAD,CAAR;EACD,CAFD,CAHqC,CAOrC;;;EAEA,MAAMG,WAAW,GAAIN,EAAD,IAAQ;IAC1BF,QAAQ,CAAC;MAAEM,IAAI,EAAE,eAAR;MAAyBC,OAAO,EAAEL;IAAlC,CAAD,CAAR;EACD,CAFD;;EAIA,MAAMO,YAAY,GAAIP,EAAD,IAAQ;IAC3BF,QAAQ,CAAC;MAAEM,IAAI,EAAE,eAAR;MAAyBC,OAAO,EAAEL;IAAlC,CAAD,CAAR;EACD,CAFD,CAbqC,CAiBrC;;;EACA,MAAMQ,UAAU,GAAIR,EAAD,IAAQ;IACzBF,QAAQ,CAAC;MAAEM,IAAI,EAAE,aAAR;MAAuBC,OAAO,EAAEL;IAAhC,CAAD,CAAR;EACD,CAFD,CAlBqC,CAsBrC;;;EACA,MAAMS,SAAS,GAAG,MAAM;IACtBX,QAAQ,CAAC;MAAEM,IAAI,EAAE;IAAR,CAAD,CAAR;EACD,CAFD,CAvBqC,CA2BrC;EACA;;;EAEA1B,SAAS,CAAC,MAAM;IACd;IACA;IACAoB,QAAQ,CAAC;MAAEM,IAAI,EAAE;IAAR,CAAD,CAAR;IAEArB,YAAY,CAAC2B,OAAb,CAAqB,eAArB,EAAsCxB,IAAI,CAACyB,SAAL,CAAed,KAAK,CAACN,IAArB,CAAtC;EACD,CANQ,EAMN,CAACM,KAAK,CAACN,IAAP,CANM,CAAT;EAQA,oBACE,QAAC,WAAD,CAAa,QAAb;IACE,KAAK,EAAE,EACL,GAAGM,KADE;MAELE,SAFK;MAGLS,UAHK;MAILC,SAJK;MAKLH,WALK;MAMLC;IANK,CADT;IAAA,UASGX;EATH;IAAA;IAAA;IAAA;EAAA,QADF;AAaD,CAnDD;;GAAMD,Y;;KAAAA,Y;;AAqDN,MAAMiB,cAAc,GAAG,MAAM;EAAA;;EAC3B,OAAOpC,UAAU,CAACI,WAAD,CAAjB;AACD,CAFD;;IAAMgC,c;;AAIN,SAASjB,YAAT,EAAuBiB,cAAvB"},"metadata":{},"sourceType":"module"}