{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Downloads/totalitycorp-frontend-challenge-main/tech-shop/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/User/Downloads/totalitycorp-frontend-challenge-main/tech-shop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useContext,useReducer,useEffect}from\"react\";import{useProductContext}from\"./productcontex\";import reducer from\"../reducer/filterReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";var FilterContext=/*#__PURE__*/createContext();var initialState={filter_products:[],all_products:[],grid_view:true,sorting_value:\"lowest\",filters:{text:\"\",category:\"all\",company:\"all\",color:\"all\",maxPrice:0,price:0,minPrice:0}};export var FilterContextProvider=function FilterContextProvider(_ref){var children=_ref.children;var _useProductContext=useProductContext(),products=_useProductContext.products;var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// to set the grid view\nvar setGridView=function setGridView(){return dispatch({type:\"SET_GRID_VIEW\"});};// sorting function\nvar sorting=function sorting(event){var userValue=event.target.value;dispatch({type:\"GET_SORT_VALUE\",payload:userValue});};// update the filter values\nvar updateFilterValue=function updateFilterValue(event){var name=event.target.name;var value=event.target.value;return dispatch({type:\"UPDATE_FILTERS_VALUE\",payload:{name:name,value:value}});};// to clear the filter\nvar clearFilters=function clearFilters(){dispatch({type:\"CLEAR_FILTERS\"});};// to sort the product\nuseEffect(function(){dispatch({type:\"FILTER_PRODUCTS\"});dispatch({type:\"SORTING_PRODUCTS\"});},[products,state.sorting_value,state.filters]);// to load all the products for grid and list view\nuseEffect(function(){dispatch({type:\"LOAD_FILTER_PRODUCTS\",payload:products});},[products]);return/*#__PURE__*/_jsx(FilterContext.Provider,{value:_objectSpread(_objectSpread({},state),{},{setGridView:setGridView,sorting:sorting,updateFilterValue:updateFilterValue,clearFilters:clearFilters}),children:children});};export var useFilterContext=function useFilterContext(){return useContext(FilterContext);};","map":{"version":3,"names":["createContext","useContext","useReducer","useEffect","useProductContext","reducer","FilterContext","initialState","filter_products","all_products","grid_view","sorting_value","filters","text","category","company","color","maxPrice","price","minPrice","FilterContextProvider","children","products","state","dispatch","setGridView","type","sorting","event","userValue","target","value","payload","updateFilterValue","name","clearFilters","useFilterContext"],"sources":["C:/Users/User/Downloads/totalitycorp-frontend-challenge-main/tech-shop/src/context/filter_context.js"],"sourcesContent":["import { createContext, useContext, useReducer, useEffect } from \"react\";\r\nimport { useProductContext } from \"./productcontex\";\r\nimport reducer from \"../reducer/filterReducer\";\r\n\r\nconst FilterContext = createContext();\r\n\r\nconst initialState = {\r\n  filter_products: [],\r\n  all_products: [],\r\n  grid_view: true,\r\n  sorting_value: \"lowest\",\r\n  filters: {\r\n    text: \"\",\r\n    category: \"all\",\r\n    company: \"all\",\r\n    color: \"all\",\r\n    maxPrice: 0,\r\n    price: 0,\r\n    minPrice: 0,\r\n  },\r\n};\r\n\r\nexport const FilterContextProvider = ({ children }) => {\r\n  const { products } = useProductContext();\r\n\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  // to set the grid view\r\n  const setGridView = () => {\r\n    return dispatch({ type: \"SET_GRID_VIEW\" });\r\n  };\r\n\r\n  \r\n\r\n  // sorting function\r\n  const sorting = (event) => {\r\n    let userValue = event.target.value;\r\n    dispatch({ type: \"GET_SORT_VALUE\", payload: userValue });\r\n  };\r\n\r\n  // update the filter values\r\n  const updateFilterValue = (event) => {\r\n    let name = event.target.name;\r\n    let value = event.target.value;\r\n\r\n    return dispatch({ type: \"UPDATE_FILTERS_VALUE\", payload: { name, value } });\r\n  };\r\n\r\n  // to clear the filter\r\n  const clearFilters = () => {\r\n    dispatch({ type: \"CLEAR_FILTERS\" });\r\n  };\r\n\r\n  // to sort the product\r\n  useEffect(() => {\r\n    dispatch({ type: \"FILTER_PRODUCTS\" });\r\n    dispatch({ type: \"SORTING_PRODUCTS\" });\r\n  }, [products, state.sorting_value, state.filters]);\r\n\r\n  // to load all the products for grid and list view\r\n  useEffect(() => {\r\n    dispatch({ type: \"LOAD_FILTER_PRODUCTS\", payload: products });\r\n  }, [products]);\r\n\r\n  return (\r\n    <FilterContext.Provider\r\n      value={{\r\n        ...state,\r\n        setGridView,\r\n     \r\n        sorting,\r\n        updateFilterValue,\r\n        clearFilters,\r\n      }}>\r\n      {children}\r\n    </FilterContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useFilterContext = () => {\r\n  return useContext(FilterContext);\r\n};\r\n"],"mappings":"uTAAA,OAASA,aAAT,CAAwBC,UAAxB,CAAoCC,UAApC,CAAgDC,SAAhD,KAAiE,OAAjE,CACA,OAASC,iBAAT,KAAkC,iBAAlC,CACA,MAAOC,QAAP,KAAoB,0BAApB,C,2CAEA,GAAMC,cAAa,cAAGN,aAAa,EAAnC,CAEA,GAAMO,aAAY,CAAG,CACnBC,eAAe,CAAE,EADE,CAEnBC,YAAY,CAAE,EAFK,CAGnBC,SAAS,CAAE,IAHQ,CAInBC,aAAa,CAAE,QAJI,CAKnBC,OAAO,CAAE,CACPC,IAAI,CAAE,EADC,CAEPC,QAAQ,CAAE,KAFH,CAGPC,OAAO,CAAE,KAHF,CAIPC,KAAK,CAAE,KAJA,CAKPC,QAAQ,CAAE,CALH,CAMPC,KAAK,CAAE,CANA,CAOPC,QAAQ,CAAE,CAPH,CALU,CAArB,CAgBA,MAAO,IAAMC,sBAAqB,CAAG,QAAxBA,sBAAwB,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CACrD,uBAAqBjB,iBAAiB,EAAtC,CAAQkB,QAAR,oBAAQA,QAAR,CAEA,gBAA0BpB,UAAU,CAACG,OAAD,CAAUE,YAAV,CAApC,4CAAOgB,KAAP,iBAAcC,QAAd,iBAEA;AACA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxB,MAAOD,SAAQ,CAAC,CAAEE,IAAI,CAAE,eAAR,CAAD,CAAf,CACD,CAFD,CAMA;AACA,GAAMC,QAAO,CAAG,QAAVA,QAAU,CAACC,KAAD,CAAW,CACzB,GAAIC,UAAS,CAAGD,KAAK,CAACE,MAAN,CAAaC,KAA7B,CACAP,QAAQ,CAAC,CAAEE,IAAI,CAAE,gBAAR,CAA0BM,OAAO,CAAEH,SAAnC,CAAD,CAAR,CACD,CAHD,CAKA;AACA,GAAMI,kBAAiB,CAAG,QAApBA,kBAAoB,CAACL,KAAD,CAAW,CACnC,GAAIM,KAAI,CAAGN,KAAK,CAACE,MAAN,CAAaI,IAAxB,CACA,GAAIH,MAAK,CAAGH,KAAK,CAACE,MAAN,CAAaC,KAAzB,CAEA,MAAOP,SAAQ,CAAC,CAAEE,IAAI,CAAE,sBAAR,CAAgCM,OAAO,CAAE,CAAEE,IAAI,CAAJA,IAAF,CAAQH,KAAK,CAALA,KAAR,CAAzC,CAAD,CAAf,CACD,CALD,CAOA;AACA,GAAMI,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzBX,QAAQ,CAAC,CAAEE,IAAI,CAAE,eAAR,CAAD,CAAR,CACD,CAFD,CAIA;AACAvB,SAAS,CAAC,UAAM,CACdqB,QAAQ,CAAC,CAAEE,IAAI,CAAE,iBAAR,CAAD,CAAR,CACAF,QAAQ,CAAC,CAAEE,IAAI,CAAE,kBAAR,CAAD,CAAR,CACD,CAHQ,CAGN,CAACJ,QAAD,CAAWC,KAAK,CAACZ,aAAjB,CAAgCY,KAAK,CAACX,OAAtC,CAHM,CAAT,CAKA;AACAT,SAAS,CAAC,UAAM,CACdqB,QAAQ,CAAC,CAAEE,IAAI,CAAE,sBAAR,CAAgCM,OAAO,CAAEV,QAAzC,CAAD,CAAR,CACD,CAFQ,CAEN,CAACA,QAAD,CAFM,CAAT,CAIA,mBACE,KAAC,aAAD,CAAe,QAAf,EACE,KAAK,gCACAC,KADA,MAEHE,WAAW,CAAXA,WAFG,CAIHE,OAAO,CAAPA,OAJG,CAKHM,iBAAiB,CAAjBA,iBALG,CAMHE,YAAY,CAAZA,YANG,EADP,UASGd,QATH,EADF,CAaD,CAvDM,CAyDP,MAAO,IAAMe,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CACpC,MAAOnC,WAAU,CAACK,aAAD,CAAjB,CACD,CAFM"},"metadata":{},"sourceType":"module"}