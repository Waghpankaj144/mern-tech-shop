{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Downloads/totalitycorp-frontend-challenge-main/tech-shop/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/User/Downloads/totalitycorp-frontend-challenge-main/tech-shop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useContext,useReducer,useEffect}from\"react\";import reducer from\"../reducer/cartReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";var CartContext=/*#__PURE__*/createContext();var getLocalCartData=function getLocalCartData(){var localCartData=localStorage.getItem(\"EcommerceCart\");// if (localCartData === []) {\n//   return [];\n// } else {\n//   return JSON.parse(localCartData);\n// }\nvar parsedData=JSON.parse(localCartData);if(!Array.isArray(parsedData))return[];return parsedData;};var initialState={// cart: [],\ncart:getLocalCartData(),total_item:\"\",total_price:\"\",shipping_fee:50000};var CartProvider=function CartProvider(_ref){var children=_ref.children;var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var addToCart=function addToCart(id,color,amount,product){dispatch({type:\"ADD_TO_CART\",payload:{id:id,color:color,amount:amount,product:product}});};// increment and decrement the product\nvar setDecrease=function setDecrease(id){dispatch({type:\"SET_DECREMENT\",payload:id});};var setIncrement=function setIncrement(id){dispatch({type:\"SET_INCREMENT\",payload:id});};// to remove the individual item from cart\nvar removeItem=function removeItem(id){dispatch({type:\"REMOVE_ITEM\",payload:id});};// to clear the cart\nvar clearCart=function clearCart(){dispatch({type:\"CLEAR_CART\"});};// to add the data in localStorage\n// get vs set\nuseEffect(function(){// dispatch({ type: \"CART_TOTAL_ITEM\" });\n// dispatch({ type: \"CART_TOTAL_PRICE\" });\ndispatch({type:\"CART_ITEM_PRICE_TOTAL\"});localStorage.setItem(\"EcommerceCart\",JSON.stringify(state.cart));},[state.cart]);return/*#__PURE__*/_jsx(CartContext.Provider,{value:_objectSpread(_objectSpread({},state),{},{addToCart:addToCart,removeItem:removeItem,clearCart:clearCart,setDecrease:setDecrease,setIncrement:setIncrement}),children:children});};var useCartContext=function useCartContext(){return useContext(CartContext);};export{CartProvider,useCartContext};","map":{"version":3,"names":["createContext","useContext","useReducer","useEffect","reducer","CartContext","getLocalCartData","localCartData","localStorage","getItem","parsedData","JSON","parse","Array","isArray","initialState","cart","total_item","total_price","shipping_fee","CartProvider","children","state","dispatch","addToCart","id","color","amount","product","type","payload","setDecrease","setIncrement","removeItem","clearCart","setItem","stringify","useCartContext"],"sources":["C:/Users/User/Downloads/totalitycorp-frontend-challenge-main/tech-shop/src/context/cart_context.js"],"sourcesContent":["import { createContext, useContext, useReducer, useEffect } from \"react\";\r\nimport reducer from \"../reducer/cartReducer\";\r\n\r\nconst CartContext = createContext();\r\n\r\nconst getLocalCartData = () => {\r\n  let localCartData = localStorage.getItem(\"EcommerceCart\");\r\n  // if (localCartData === []) {\r\n  //   return [];\r\n  // } else {\r\n  //   return JSON.parse(localCartData);\r\n  // }\r\n  const parsedData = JSON.parse(localCartData);\r\n  if(!Array.isArray(parsedData))\r\n  return[];\r\nreturn parsedData;\r\n};\r\n\r\n\r\n\r\nconst initialState = {\r\n  // cart: [],\r\n  cart: getLocalCartData(),\r\n  total_item: \"\",\r\n  total_price: \"\",\r\n  shipping_fee: 50000,\r\n};\r\n\r\nconst CartProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const addToCart = (id, color, amount, product) => {\r\n    dispatch({ type: \"ADD_TO_CART\", payload: { id, color, amount, product } });\r\n  };\r\n\r\n  // increment and decrement the product\r\n\r\n  const setDecrease = (id) => {\r\n    dispatch({ type: \"SET_DECREMENT\", payload: id });\r\n  };\r\n\r\n  const setIncrement = (id) => {\r\n    dispatch({ type: \"SET_INCREMENT\", payload: id });\r\n  };\r\n\r\n  // to remove the individual item from cart\r\n  const removeItem = (id) => {\r\n    dispatch({ type: \"REMOVE_ITEM\", payload: id });\r\n  };\r\n\r\n  // to clear the cart\r\n  const clearCart = () => {\r\n    dispatch({ type: \"CLEAR_CART\" });\r\n  };\r\n\r\n  // to add the data in localStorage\r\n  // get vs set\r\n\r\n  useEffect(() => {\r\n    // dispatch({ type: \"CART_TOTAL_ITEM\" });\r\n    // dispatch({ type: \"CART_TOTAL_PRICE\" });\r\n    dispatch({ type: \"CART_ITEM_PRICE_TOTAL\" });\r\n\r\n    localStorage.setItem(\"EcommerceCart\", JSON.stringify(state.cart));\r\n  }, [state.cart]);\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        ...state,\r\n        addToCart,\r\n        removeItem,\r\n        clearCart,\r\n        setDecrease,\r\n        setIncrement,\r\n      }}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nconst useCartContext = () => {\r\n  return useContext(CartContext);\r\n};\r\n\r\nexport { CartProvider, useCartContext };\r\n"],"mappings":"uTAAA,OAASA,aAAT,CAAwBC,UAAxB,CAAoCC,UAApC,CAAgDC,SAAhD,KAAiE,OAAjE,CACA,MAAOC,QAAP,KAAoB,wBAApB,C,2CAEA,GAAMC,YAAW,cAAGL,aAAa,EAAjC,CAEA,GAAMM,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAC7B,GAAIC,cAAa,CAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAApB,CACA;AACA;AACA;AACA;AACA;AACA,GAAMC,WAAU,CAAGC,IAAI,CAACC,KAAL,CAAWL,aAAX,CAAnB,CACA,GAAG,CAACM,KAAK,CAACC,OAAN,CAAcJ,UAAd,CAAJ,CACA,MAAM,EAAN,CACF,MAAOA,WAAP,CACC,CAXD,CAeA,GAAMK,aAAY,CAAG,CACnB;AACAC,IAAI,CAAEV,gBAAgB,EAFH,CAGnBW,UAAU,CAAE,EAHO,CAInBC,WAAW,CAAE,EAJM,CAKnBC,YAAY,CAAE,KALK,CAArB,CAQA,GAAMC,aAAY,CAAG,QAAfA,aAAe,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CACrC,gBAA0BnB,UAAU,CAACE,OAAD,CAAUW,YAAV,CAApC,4CAAOO,KAAP,iBAAcC,QAAd,iBAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,CAACC,EAAD,CAAKC,KAAL,CAAYC,MAAZ,CAAoBC,OAApB,CAAgC,CAChDL,QAAQ,CAAC,CAAEM,IAAI,CAAE,aAAR,CAAuBC,OAAO,CAAE,CAAEL,EAAE,CAAFA,EAAF,CAAMC,KAAK,CAALA,KAAN,CAAaC,MAAM,CAANA,MAAb,CAAqBC,OAAO,CAAPA,OAArB,CAAhC,CAAD,CAAR,CACD,CAFD,CAIA;AAEA,GAAMG,YAAW,CAAG,QAAdA,YAAc,CAACN,EAAD,CAAQ,CAC1BF,QAAQ,CAAC,CAAEM,IAAI,CAAE,eAAR,CAAyBC,OAAO,CAAEL,EAAlC,CAAD,CAAR,CACD,CAFD,CAIA,GAAMO,aAAY,CAAG,QAAfA,aAAe,CAACP,EAAD,CAAQ,CAC3BF,QAAQ,CAAC,CAAEM,IAAI,CAAE,eAAR,CAAyBC,OAAO,CAAEL,EAAlC,CAAD,CAAR,CACD,CAFD,CAIA;AACA,GAAMQ,WAAU,CAAG,QAAbA,WAAa,CAACR,EAAD,CAAQ,CACzBF,QAAQ,CAAC,CAAEM,IAAI,CAAE,aAAR,CAAuBC,OAAO,CAAEL,EAAhC,CAAD,CAAR,CACD,CAFD,CAIA;AACA,GAAMS,UAAS,CAAG,QAAZA,UAAY,EAAM,CACtBX,QAAQ,CAAC,CAAEM,IAAI,CAAE,YAAR,CAAD,CAAR,CACD,CAFD,CAIA;AACA;AAEA1B,SAAS,CAAC,UAAM,CACd;AACA;AACAoB,QAAQ,CAAC,CAAEM,IAAI,CAAE,uBAAR,CAAD,CAAR,CAEArB,YAAY,CAAC2B,OAAb,CAAqB,eAArB,CAAsCxB,IAAI,CAACyB,SAAL,CAAed,KAAK,CAACN,IAArB,CAAtC,EACD,CANQ,CAMN,CAACM,KAAK,CAACN,IAAP,CANM,CAAT,CAQA,mBACE,KAAC,WAAD,CAAa,QAAb,EACE,KAAK,gCACAM,KADA,MAEHE,SAAS,CAATA,SAFG,CAGHS,UAAU,CAAVA,UAHG,CAIHC,SAAS,CAATA,SAJG,CAKHH,WAAW,CAAXA,WALG,CAMHC,YAAY,CAAZA,YANG,EADP,UASGX,QATH,EADF,CAaD,CAnDD,CAqDA,GAAMgB,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CAC3B,MAAOpC,WAAU,CAACI,WAAD,CAAjB,CACD,CAFD,CAIA,OAASe,YAAT,CAAuBiB,cAAvB"},"metadata":{},"sourceType":"module"}